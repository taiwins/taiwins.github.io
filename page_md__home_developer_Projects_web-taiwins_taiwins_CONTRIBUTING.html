<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <title>Contributing to Taiwins &#8212; Taiwins</title>
  
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/my-style.css" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/target-highlight.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Lua bindings" href="page_md__home_developer_Projects_web-taiwins_taiwins_docs_lua.html" />
    <link rel="prev" title="Taiwins Documentation" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.11.0.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>
  <div class="page-container">
    
<!-- taken from bootstrap theme -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">
        <b>Taiwins</b></a>
      <span class="navbar-text navbar-version pull-left"><b></b></span>
    </div>

    <div class="collapse navbar-collapse nav-collapse">
      <ul class="nav navbar-nav">
	<li><a href="page_doc.html">Documentation</a></li>
	<li><a href="https://github.com/taiwins/taiwins">Source Code</a></li>
	<li><a href="https://github.com/taiwins/taiwins/wiki">Wiki</a></li>
	<!-- add other pages -->
      </ul>
    </div>
  </div>
</div>

    <div class="container">
      
	<div class="row">
	  <div class="body col-md-9 content" role="main">
	    
  <div class="section" id="contributing-to-taiwins">
<span id="doxid-d3-d94-md-home-developer-projects-web-taiwins-taiwins-c-o-n-t-r-i-b-u-t-i-n-g"></span><span id="index-0"></span><h1>Contributing to Taiwins<a class="headerlink" href="#contributing-to-taiwins" title="Permalink to this headline">¶</a></h1>
<p>Taiwins is hosted on github, contributing to taiwins involves sending pull requests and submitting issues. From the beginning, taiwins has been quietly under my solo development, so the git history is far from clean, but for now, I am creating a common practice to facilitate the collaboration.</p>
<div class="section" id="submitting-issues">
<span id="doxid-d3-d94-md-home-developer-projects-web-taiwins-taiwins-c-o-n-t-r-i-b-u-t-i-n-g-1autotoc-md1"></span><h2>submitting issues<a class="headerlink" href="#submitting-issues" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="pull-requests">
<span id="doxid-d3-d94-md-home-developer-projects-web-taiwins-taiwins-c-o-n-t-r-i-b-u-t-i-n-g-1autotoc-md2"></span><h2>Pull requests<a class="headerlink" href="#pull-requests" title="Permalink to this headline">¶</a></h2>
<p>There are 3 lines command to start;</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1. git clone https://github.com/taiwins/taiwins &amp;&amp; cd taiwins
2. git remote rename origin upstream.
3. git checkout -b your-awesome-new-feature
</pre></div>
</div>
<p>Then you after a few moment of development and you think it is mature enough, it is time to create your pull request. You do not need to finish the whole development before submitting a PR, simple start your PR title with <em>WIP:</em>. Actually I would encourage you to create Work-in-progress PR early, so we could kick off the discussion and minimize the waste the developing time.</p>
<div class="section" id="commit-message">
<span id="doxid-d3-d94-md-home-developer-projects-web-taiwins-taiwins-c-o-n-t-r-i-b-u-t-i-n-g-1autotoc-md3"></span><h3>commit message<a class="headerlink" href="#commit-message" title="Permalink to this headline">¶</a></h3>
<p>Start with a short, explicit title would be a good idea. Taiwins is modular in design, and it splitted into server and client code. As you can see in the source tree, on the server side, can find <code class="docutils literal notranslate"><span class="pre">backend</span></code>, <code class="docutils literal notranslate"><span class="pre">dbus</span></code>, <code class="docutils literal notranslate"><span class="pre">compositor</span></code>, <code class="docutils literal notranslate"><span class="pre">config</span></code>, <code class="docutils literal notranslate"><span class="pre">desktop</span></code>, etc. Client now has <code class="docutils literal notranslate"><a class="reference internal" href="struct_desktop_shell.html#doxid-db-deb-structdesktop-shell"><span class="std std-ref"><span class="pre">desktop_shell</span></span></a></code>, <code class="docutils literal notranslate"><a class="reference internal" href="struct_desktop_console.html#doxid-df-d36-structdesktop-console"><span class="std std-ref"><span class="pre">desktop_console</span></span></a></code>, <code class="docutils literal notranslate"><span class="pre">widget</span></code> and <code class="docutils literal notranslate"><span class="pre">update_icon_cache</span></code>. Signing-off is recommended so we can count the contribution. An good example of commit message would be like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>config: adding new reload shell binding.

state the purpose, reason of the commit. Summary about
want has been changed.

Signed-off-by: John Doe &lt;J.Doe@abcdefg.org&gt;
</pre></div>
</div>
<p>Signing-off is done through <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-s</span></code>.</p>
</div>
<div class="section" id="code-review">
<span id="doxid-d3-d94-md-home-developer-projects-web-taiwins-taiwins-c-o-n-t-r-i-b-u-t-i-n-g-1autotoc-md4"></span><h3>code review<a class="headerlink" href="#code-review" title="Permalink to this headline">¶</a></h3>
<p>After engaging with some good discussion and you decide to make some changes, you can rebase your work with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">rebase</span> <span class="pre">-i</span></code> to apply the changes, then force push to your remote. This will greatly help the merging process. In general, there are 4 steps</p>
<ol class="arabic simple">
<li><p><strong>Review</strong> the commit messages.</p></li>
<li><p><strong>Review</strong> the code style and correctness, tests maybe run if appliable.</p></li>
<li><p><strong>Modifier</strong> the commits, following the discussion in the review.</p></li>
<li><p><strong>Merge</strong> the patch when review is approved.</p></li>
</ol>
</div>
</div>
<div class="section" id="coding-style-reference">
<span id="doxid-d3-d94-md-home-developer-projects-web-taiwins-taiwins-c-o-n-t-r-i-b-u-t-i-n-g-1autotoc-md5"></span><h2>Coding Style reference<a class="headerlink" href="#coding-style-reference" title="Permalink to this headline">¶</a></h2>
<p>Taiwins style is similar to the <a class="reference external" href="https://www.kernel.org/doc/Documentation/process/coding-style.rst">kernel</a> style. This means:</p>
<ul class="simple">
<li><p>We uses gnu11 standard, but very limited GNU extensions are used.</p></li>
<li><p>we use the same <strong>tabs, space</strong> rule(indent with tabs, 8 characters wide);</p></li>
<li><p>opening braces on the same line on if statments, no braces for one-statement if body.</p></li>
<li><p>opening braces is the one the next line for functions.</p></li>
<li><p>cases are aligned with switch.</p></li>
<li><p>try to keep the lines within 80 characters wide;</p></li>
</ul>
<p>But there are some differences.</p>
<ul class="simple">
<li><p>to make easy for line width, we use the following declaration and definition style to split the return type and function name in two different lines.</p></li>
</ul>
<pre class="highlight literal-block"><span></span><span class="cm">/* declaration */</span>
<span class="kt">void</span>
<span class="nf">function_a</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">z</span><span class="p">);</span>

<span class="cm">/* definition */</span>
<span class="kt">void</span>
<span class="nf">function_a</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">z</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">;</span>

    <span class="c1">//comment</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="p">)</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="sc">&#39;a&#39;</span><span class="o">:</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="sc">&#39;b&#39;</span><span class="o">:</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span>
<span class="nf">function_is_very_very_lone</span><span class="p">(</span><span class="n">very_complex_type_name_a</span> <span class="n">a</span><span class="p">,</span>
                           <span class="n">very_complex_type_name_b</span> <span class="n">b</span><span class="p">);</span></pre>
<ul class="simple">
<li><p>As in the example, we use c comment style outside the function body, and c++ comment style inside, this would make it easier temporarily comment out a function.</p></li>
<li><p>We also use both space and tabs to align the code, in the example above, for long arguments which span multiple lines, we use spaces to align the parameters with opening parentheses. This would keep the code properly aigned under different tab width.</p></li>
</ul>
</div>
<div class="section" id="wikis-for-getting-started">
<span id="doxid-d3-d94-md-home-developer-projects-web-taiwins-taiwins-c-o-n-t-r-i-b-u-t-i-n-g-1autotoc-md6"></span><h2>Wikis for getting started.<a class="headerlink" href="#wikis-for-getting-started" title="Permalink to this headline">¶</a></h2>
<p>At the moment documentation is generated through doxygen. Also, previous notes registered during the development is under <cite>docs/. For start, you can check out the ``mainpage`</cite>.</p>
</div>
</div>


	  </div>
	  
<div class="col-md-3">
  <div id="sidebar" class="bs-sidenav">
<h3>Content</h3>
<div id="localtoc"><ul>
<li><a class="reference internal" href="#">Contributing to Taiwins</a><ul>
<li><a class="reference internal" href="#submitting-issues">submitting issues</a></li>
<li><a class="reference internal" href="#pull-requests">Pull requests</a><ul>
<li><a class="reference internal" href="#commit-message">commit message</a></li>
<li><a class="reference internal" href="#code-review">code review</a></li>
</ul>
</li>
<li><a class="reference internal" href="#coding-style-reference">Coding Style reference</a></li>
<li><a class="reference internal" href="#wikis-for-getting-started">Wikis for getting started.</a></li>
</ul>
</li>
</ul>
</div>
<h3><a data-toggle="collapse" href="#globaltoc">Related Pages</a></h3>
<div id="globaltoc" class="collapse">
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing to Taiwins</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_md__home_developer_Projects_web-taiwins_taiwins_docs_lua.html">Lua bindings</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_md__home_developer_Projects_web-taiwins_taiwins_docs_window_management.html">Taiwins layout engine.</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_md__home_developer_Projects_web-taiwins_taiwins_README.html">Taiwins, a morden wayland window manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_md__home_developer_Projects_web-taiwins_taiwins_docs_api.html">Twclient quick reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_md__home_developer_Projects_web-taiwins_taiwins_docs_twobjects.html">Twobjects quick reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_md__home_developer_Projects_web-taiwins_taiwins_docs_wayland.html">wayland</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="global.html">Global Namespace</a></li>
</ul>

</div>
<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
  </div>
</div>

	</div>
      
    </div>
    <div class="push"></div>
  </div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2020, Xichen Zhou.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>